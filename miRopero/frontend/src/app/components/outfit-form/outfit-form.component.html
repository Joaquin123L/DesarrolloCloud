<h2>Crear Nuevo Outfit</h2>

<form (submit)="save(); $event.preventDefault();" class="outfit-form">
  <div>
    <label>Nombre:</label>
    <input [(ngModel)]="name" name="name" required />
  </div>

  <div>
    <label>Imagen:</label>
    <input type="file" (change)="onFileChange($event)" />
  </div>

  <div>
    <label>Prendas:</label>
    <div *ngFor="let categoria of categorias">
      <h4>{{ categoria }}</h4>
      <div class="carousel">
        <button type="button" (click)="retroceder(categoria)">←</button>
        <div class="card-container">
          <div class="card"
               *ngFor="let g of getPrendasPorCategoria(categoria) | slice:carouselIndex[categoria]:carouselIndex[categoria]+3">
            <img [src]="g.image" alt="{{ g.name }}" />
            <label>
              <input
                type="checkbox"
                [value]="g.id"
                (change)="onCheckboxChange($event, g.id!)"
                [checked]="selectedGarments.includes(g.id!)"
              />
              {{ g.name }}
            </label>
          </div>
        </div>
        <button type="button" (click)="avanzar(categoria)">→</button>
      </div>
    </div>
  </div>

  <button type="submit" class="submit-btn">Guardar</button>
</form>

<!-- Modal 💖 -->
<div *ngIf="modalVisible" class="modal">
  <div class="modal-content">
    <p>{{ modalMessage }}</p>
    <button (click)="cerrarModal()">Cerrar</button>
  </div>
</div>
